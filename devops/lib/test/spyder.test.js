"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const axios_1 = require("axios");
const AWS = require("aws-sdk");
AWS.config.update({ region: 'us-west-2' });
const cognito = new AWS.CognitoIdentityServiceProvider;
test('with valid hasura admin secret', async () => {
    const axiosParam = {
        url: 'https://hasura-spyder.dev.neatleaf.com/v1/graphql',
        method: 'post',
        headers: {
            // get the HASURA_GRAPHQL_ADMIN_SECRET from the AWS SecretsManager in dev! and set:
            // export HASURA_GRAPHQL_ADMIN_SECRET=...
            'x-hasura-admin-secret': process.env.HASURA_GRAPHQL_ADMIN_SECRET || '',
        },
        data: {
            query: 'dab',
        },
    };
    let result;
    try {
        result = await (0, axios_1.default)(axiosParam);
    }
    catch (error) {
        console.debug(error);
        fail(error);
    }
    console.debug(result.data);
    expect(result.status).toEqual(200);
    expect(result.data.errors[0].message).toEqual('not a valid graphql query');
});
test('with wrong hasura admin secret', async () => {
    const axiosParam = {
        url: 'https://hasura-spyder.dev.neatleaf.com/v1/graphql',
        method: 'post',
        headers: {
            'x-hasura-admin-secret': 'IamWrong',
        },
        data: {
            query: 'dab',
        },
    };
    let result;
    try {
        result = await (0, axios_1.default)(axiosParam);
    }
    catch (error) {
        console.debug(error);
        fail(error);
    }
    console.debug(result.data);
    expect(result.data.errors[0].message).toEqual('invalid x-hasura-admin-secret/x-hasura-access-key');
});
test('user token is valid', async () => {
    // user token test with https://newbedev.com/how-to-generate-access-token-for-an-aws-cognito-user
    // make sure your env has access to the dev env with like ~/.aws/credentials or using variables from the SSO login
    var _a;
    const params = {
        ClientId: '1ldi402p2trphraetn9ap3lnfm',
        UserPoolId: 'us-west-2_qgGFY5lXi',
        AuthFlow: 'ADMIN_NO_SRP_AUTH',
        AuthParameters: {
            USERNAME: 'spyderdev',
            PASSWORD: 'spyderdev123!'
        },
    };
    const tokenResult = await cognito.adminInitiateAuth(params).promise();
    const token = (_a = tokenResult.AuthenticationResult) === null || _a === void 0 ? void 0 : _a.AccessToken;
    console.debug(token);
    const axiosParam = {
        url: 'https://hasura-spyder.dev.neatleaf.com/v1/graphql',
        method: 'post',
        headers: {
            Authorization: `Bearer ${token}`,
        },
        data: {
            query: 'dab',
        },
    };
    let result;
    try {
        result = await (0, axios_1.default)(axiosParam);
    }
    catch (error) {
        console.debug(error);
        fail(error);
    }
    // console.debug(result.data);
    expect(result.data.errors[0].message).toEqual('claims key: \'https://hasura.io/jwt/claims\' not found');
});
test('user token is not valid', async () => {
    const invalidToken = 'eyJraWQiOiJZdGZmaEM3N0trQjZ5V3JMXC8xOEVGK25uOEwweGZMUnJjY3hzQ2t3NGg1VT0iLCJhbGciOiJSUzI1NiJ9.eyJvcmlnaW5fanRpIjoiODMwYjA5MTMtMjM5Zi00Nzk4LWIzZjgtODI4NTNkMDk3NTEzIiwic3ViIjoiYzJmYjM0ZTEtMzcwYy00ZDBkLTk4MjItMTlmOTNjYzhmMzE2IiwiZXZlbnRfaWQiOiI2ZWMxNmM5NC1hMjQ2LTRhNWUtOTBkNi0zNjcxM2NlOTU1OTkiLCJ0b2tlbl91c2UiOiJhY2Nlc3MiLCJzY29wZSI6ImF3cy5jb2duaXRvLnNpZ25pbi51c2VyLmFkbWluIiwiYXV0aF90aW1lIjoxNjQwMTY0MDMwLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtd2VzdC0yLmFtYXpvbmF3cy5jb21cL3VzLXdlc3QtMl9xZ0dGWTVsWGkiLCJleHAiOjE2NDAxNjc2MzAsImlhdCI6MTY0MDE2NDAzMCwianRpIjoiN2YzNjllMjYtZjk3OS00ZTVkLWE2YzUtNmE1MGJkMTNkZjBhIiwiY2xpZW50X2lkIjoiMWxkaTQwMnAydHJwaHJhZXRuOWFwM2xuZm0iLCJ1c2VybmFtZSI6InNweWRlcmRldiJ9.C7b-Aowj0KbqS8zB-ixkXWaLVzHdbJIaLDmQB-JT_vXrrvN-CGvmNX7uIFJAG6GFBznaf8oVrHmAUI0WdeG0tFxm8kFEiG7znm4M-rdKpJVEMdky77B9JeAsWHiMnQLFBKYh_hRIzqAD6-N_-xGMtCWtIow_9zsI8Mx8RNLB2PHa-OyqH-5f6_O3z82Mmn-PmG9eQv3XIn1PnTKmc_hqTIcA5hYaZXp9WnLyCItAMWrlc5qAvdmAq9p-T6koGyC1LIJFBYUXO44fF8SU0Sz7ISqYc3AKHtM08_UlZiBT9zV4uW3W4RtJgT7dxMSPWYM0ZljoOoh9zgAG-gWxNPsNth';
    const axiosParam = {
        url: 'https://hasura-spyder.dev.neatleaf.com/v1/graphql',
        method: 'post',
        headers: {
            Authorization: `Bearer ${invalidToken}`,
        },
        data: {
            query: 'dab',
        },
    };
    let result;
    try {
        result = await (0, axios_1.default)(axiosParam);
    }
    catch (error) {
        console.debug(error);
        fail();
    }
    console.debug(result);
    expect(result.data.errors[0].extensions.code).toBe('invalid-jwt');
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3B5ZGVyLnRlc3QuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi90ZXN0L3NweWRlci50ZXN0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsaUNBQWtEO0FBQ2xELCtCQUErQjtBQUMvQixHQUFHLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFLE1BQU0sRUFBRSxXQUFXLEVBQUUsQ0FBQyxDQUFDO0FBRTNDLE1BQU0sT0FBTyxHQUFHLElBQUksR0FBRyxDQUFDLDhCQUE4QixDQUFDO0FBRXZELElBQUksQ0FBQyxnQ0FBZ0MsRUFBRSxLQUFLLElBQUksRUFBRTtJQUNoRCxNQUFNLFVBQVUsR0FBdUI7UUFDckMsR0FBRyxFQUFFLG1EQUFtRDtRQUN4RCxNQUFNLEVBQUUsTUFBTTtRQUNkLE9BQU8sRUFBRTtZQUNQLG1GQUFtRjtZQUNuRix5Q0FBeUM7WUFDekMsdUJBQXVCLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQywyQkFBMkIsSUFBSSxFQUFFO1NBQ3ZFO1FBQ0QsSUFBSSxFQUFFO1lBQ0osS0FBSyxFQUFFLEtBQUs7U0FDYjtLQUNGLENBQUM7SUFDRixJQUFJLE1BQU0sQ0FBQztJQUNYLElBQUk7UUFDRixNQUFNLEdBQUcsTUFBTSxJQUFBLGVBQUssRUFBQyxVQUFVLENBQUMsQ0FBQztLQUNsQztJQUFDLE9BQU8sS0FBSyxFQUFFO1FBQ2QsT0FBTyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNyQixJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7S0FDYjtJQUNELE9BQU8sQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQzNCLE1BQU0sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ25DLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxPQUFP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LEVBQUMsVUFBVSxDQUFDLENBQUM7S0FDbEM7SUFBQyxPQUFPLEtBQUssRUFBRTtRQUNkLE9BQU8sQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDckIsSUFBSSxFQUFFLENBQUM7S0FDUjtJQUNELE9BQU8sQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDdEIsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7QUFDcEUsQ0FBQyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYXhpb3MsIHsgQXhpb3NSZXF1ZXN0Q29uZmlnIH0gZnJvbSAnYXhpb3MnO1xuaW1wb3J0ICogYXMgQVdTIGZyb20gJ2F3cy1zZGsnO1xuQVdTLmNvbmZpZy51cGRhdGUoeyByZWdpb246ICd1cy13ZXN0LTInIH0pO1xuXG5jb25zdCBjb2duaXRvID0gbmV3IEFXUy5Db2duaXRvSWRlbnRpdHlTZXJ2aWNlUHJvdmlkZXI7XG5cbnRlc3QoJ3dpdGggdmFsaWQgaGFzdXJhIGFkbWluIHNlY3JldCcsIGFzeW5jICgpID0+IHtcbiAgY29uc3QgYXhpb3NQYXJhbTogQXhpb3NSZXF1ZXN0Q29uZmlnID0ge1xuICAgIHVybDogJ2h0dHBzOi8vaGFzdXJhLXNweWRlci5kZXYubmVhdGxlYWYuY29tL3YxL2dyYXBocWwnLFxuICAgIG1ldGhvZDogJ3Bvc3QnLFxuICAgIGhlYWRlcnM6IHtcbiAgICAgIC8vIGdldCB0aGUgSEFTVVJBX0dSQVBIUUxfQURNSU5fU0VDUkVUIGZyb20gdGhlIEFXUyBTZWNyZXRzTWFuYWdlciBpbiBkZXYhIGFuZCBzZXQ6XG4gICAgICAvLyBleHBvcnQgSEFTVVJBX0dSQVBIUUxfQURNSU5fU0VDUkVUPS4uLlxuICAgICAgJ3gtaGFzdXJhLWFkbWluLXNlY3JldCc6IHByb2Nlc3MuZW52LkhBU1VSQV9HUkFQSFFMX0FETUlOX1NFQ1JFVCB8fCAnJyxcbiAgICB9LFxuICAgIGRhdGE6IHtcbiAgICAgIHF1ZXJ5OiAnZGFiJyxcbiAgICB9LFxuICB9O1xuICBsZXQgcmVzdWx0O1xuICB0cnkge1xuICAgIHJlc3VsdCA9IGF3YWl0IGF4aW9zKGF4aW9zUGFyYW0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZGVidWcoZXJyb3IpO1xuICAgIGZhaWwoZXJyb3IpO1xuICB9XG4gIGNvbnNvbGUuZGVidWcocmVzdWx0LmRhdGEpO1xuICBleHBlY3QocmVzdWx0LnN0YXR1cykudG9FcXVhbCgyMDApO1xuICBleHBlY3QocmVzdWx0LmRhdGEuZXJyb3JzWzBdLm1lc3NhZ2UpLnRvRXF1YWwoJ25vdCBhIHZhbGlkIGdyYXBocWwgcXVlcnknKTtcbn0pO1xuXG50ZXN0KCd3aXRoIHdyb25nIGhhc3VyYSBhZG1pbiBzZWNyZXQnLCBhc3luYyAoKSA9PiB7XG4gIGNvbnN0IGF4aW9zUGFyYW06IEF4aW9zUmVxdWVzdENvbmZpZyA9IHtcbiAgICB1cmw6ICdodHRwczovL2hhc3VyYS1zcHlkZXIuZGV2Lm5lYXRsZWFmLmNvbS92MS9ncmFwaHFsJyxcbiAgICBtZXRob2Q6ICdwb3N0JyxcbiAgICBoZWFkZXJzOiB7XG4gICAgICAneC1oYXN1cmEtYWRtaW4tc2VjcmV0JzogJ0lhbVdyb25nJyxcbiAgICB9LFxuICAgIGRhdGE6IHtcbiAgICAgIHF1ZXJ5OiAnZGFiJyxcbiAgICB9LFxuICB9O1xuICBsZXQgcmVzdWx0O1xuICB0cnkge1xuICAgIHJlc3VsdCA9IGF3YWl0IGF4aW9zKGF4aW9zUGFyYW0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZGVidWcoZXJyb3IpO1xuICAgIGZhaWwoZXJyb3IpO1xuICB9XG4gIGNvbnNvbGUuZGVidWcocmVzdWx0LmRhdGEpO1xuICBleHBlY3QocmVzdWx0LmRhdGEuZXJyb3JzWzBdLm1lc3NhZ2UpLnRvRXF1YWwoJ2ludmFsaWQgeC1oYXN1cmEtYWRtaW4tc2VjcmV0L3gtaGFzdXJhLWFjY2Vzcy1rZXknKTtcbn0pO1xuXG50ZXN0KCd1c2VyIHRva2VuIGlzIHZhbGlkJywgYXN5bmMgKCkgPT4ge1xuICAvLyB1c2VyIHRva2VuIHRlc3Qgd2l0aCBodHRwczovL25ld2JlZGV2LmNvbS9ob3ctdG8tZ2VuZXJhdGUtYWNjZXNzLXRva2VuLWZvci1hbi1hd3MtY29nbml0by11c2VyXG4gIC8vIG1ha2Ugc3VyZSB5b3VyIGVudiBoYXMgYWNjZXNzIHRvIHRoZSBkZXYgZW52IHdpdGggbGlrZSB+Ly5hd3MvY3JlZGVudGlhbHMgb3IgdXNpbmcgdmFyaWFibGVzIGZyb20gdGhlIFNTTyBsb2dpblxuXG4gIGNvbnN0IHBhcmFtczogQVdTLkNvZ25pdG9JZGVudGl0eVNlcnZpY2VQcm92aWRlci5UeXBlcy5BZG1pbkluaXRpYXRlQXV0aFJlcXVlc3QgPSB7XG4gICAgQ2xpZW50SWQ6ICcxbGRpNDAycDJ0cnBocmFldG45YXAzbG5mbScsXG4gICAgVXNlclBvb2xJZDogJ3VzLXdlc3QtMl9xZ0dGWTVsWGknLFxuICAgIEF1dGhGbG93OiAnQURNSU5fTk9fU1JQX0FVVEgnLFxuICAgIEF1dGhQYXJhbWV0ZXJzOiB7XG4gICAgICBVU0VSTkFNRTogJ3NweWRlcmRldicsXG4gICAgICBQQVNTV09SRDogJ3NweWRlcmRldjEyMyEnXG4gICAgfSxcbiAgfTtcblxuICBjb25zdCB0b2tlblJlc3VsdCA9IGF3YWl0IGNvZ25pdG8uYWRtaW5Jbml0aWF0ZUF1dGgocGFyYW1zKS5wcm9taXNlKCk7XG4gIGNvbnN0IHRva2VuID0gdG9rZW5SZXN1bHQuQXV0aGVudGljYXRpb25SZXN1bHQ/LkFjY2Vzc1Rva2VuO1xuXG4gIGNvbnNvbGUuZGVidWcodG9rZW4pO1xuXG4gIGNvbnN0IGF4aW9zUGFyYW06IEF4aW9zUmVxdWVzdENvbmZpZyA9IHtcbiAgICB1cmw6ICdodHRwczovL2hhc3VyYS1zcHlkZXIuZGV2Lm5lYXRsZWFmLmNvbS92MS9ncmFwaHFsJyxcbiAgICBtZXRob2Q6ICdwb3N0JyxcbiAgICBoZWFkZXJzOiB7XG4gICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dG9rZW59YCxcbiAgICB9LFxuICAgIGRhdGE6IHtcbiAgICAgIHF1ZXJ5OiAnZGFiJyxcbiAgICB9LFxuICB9O1xuICBsZXQgcmVzdWx0O1xuICB0cnkge1xuICAgIHJlc3VsdCA9IGF3YWl0IGF4aW9zKGF4aW9zUGFyYW0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZGVidWcoZXJyb3IpO1xuICAgIGZhaWwoZXJyb3IpO1xuICB9XG4gIC8vIGNvbnNvbGUuZGVidWcocmVzdWx0LmRhdGEpO1xuICBleHBlY3QocmVzdWx0LmRhdGEuZXJyb3JzWzBdLm1lc3NhZ2UpLnRvRXF1YWwoJ2NsYWltcyBrZXk6IFxcJ2h0dHBzOi8vaGFzdXJhLmlvL2p3dC9jbGFpbXNcXCcgbm90IGZvdW5kJyk7XG59KTtcblxudGVzdCgndXNlciB0b2tlbiBpcyBub3QgdmFsaWQnLCBhc3luYyAoKSA9PiB7XG5cbiAgY29uc3QgaW52YWxpZFRva2VuID0gJ2V5SnJhV1FpT2lKWmRHWm1hRU0zTjB0clFqWjVWM0pNWEM4eE9FVkdLMjV1T0V3d2VHWk1VbkpqWTNoelEydDNOR2cxVlQwaUxDSmhiR2NpT2lKU1V6STFOaUo5LmV5SnZjbWxuYVc1ZmFuUnBJam9pT0RNd1lqQTVNVE10TWpNNVppMDBOems0TFdJelpqZ3RPREk0TlROa01EazNOVEV6SWl3aWMzVmlJam9pWXpKbVlqTTBaVEV0TXpjd1l5MDBaREJrTFRrNE1qSXRNVGxtT1ROall6aG1NekUySWl3aVpYWmxiblJmYVdRaU9pSTJaV014Tm1NNU5DMWhNalEyTFRSaE5XVXRPVEJrTmkwek5qY3hNMk5sT1RVMU9Ua2lMQ0owYjJ0bGJsOTFjMlVpT2lKaFkyTmxjM01pTENKelkyOXdaU0k2SW1GM2N5NWpiMmR1YVhSdkxuTnBaMjVwYmk1MWMyVnlMbUZrYldsdUlpd2lZWFYwYUY5MGFXMWxJam94TmpRd01UWTBNRE13TENKcGMzTWlPaUpvZEhSd2N6cGNMMXd2WTI5bmJtbDBieTFwWkhBdWRYTXRkMlZ6ZEMweUxtRnRZWHB2Ym1GM2N5NWpiMjFjTDNWekxYZGxjM1F0TWw5eFowZEdXVFZzV0draUxDSmxlSEFpT2pFMk5EQXhOamMyTXpBc0ltbGhkQ0k2TVRZME1ERTJOREF6TUN3aWFuUnBJam9pTjJZek5qbGxNall0WmprM09TMDBaVFZrTFdFMll6VXRObUUxTUdKa01UTmtaakJoSWl3aVkyeHBaVzUwWDJsa0lqb2lNV3hrYVRRd01uQXlkSEp3YUhKaFpYUnVPV0Z3TTJ4dVptMGlMQ0oxYzJWeWJtRnRaU0k2SW5Od2VXUmxjbVJsZGlKOS5DN2ItQW93ajBLYnFTOHpCLWl4a1hXYUxWekhkYkpJYUxEbVFCLUpUX3ZYcnJ2Ti1DR3ZtTlg3dUlGSkFHNkdGQnpuYWY4b1ZySG1BVUkwV2RlRzB0RnhtOGtGRWlHN3pubTRNLXJkS3BKVkVNZGt5NzdCOUplQXNXSGlNblFMRkJLWWhfaFJJenFBRDYtTl8teEdNdENXdElvd185enNJOE14OFJOTEIyUEhhLU95cUgtNWY2X08zejgyTW1uLVBtRzllUXYzWEluMVBuVEttY19ocVRJY0E1aFlhWlhwOVduTHlDSXRBTVdybGM1cUF2ZG1BcTlwLVQ2a29HeUMxTElKRkJZVVhPNDRmRjhTVTBTejdJU3FZYzNBS0h0TTA4X1VsWmlCVDl6VjR1VzNXNFJ0SmdUN2R4TVNQV1lNMFpsam9Pb2g5emdBRy1nV3hOUHNOdGgnO1xuXG4gIGNvbnN0IGF4aW9zUGFyYW06IEF4aW9zUmVxdWVzdENvbmZpZyA9IHtcbiAgICB1cmw6ICdodHRwczovL2hhc3VyYS1zcHlkZXIuZGV2Lm5lYXRsZWFmLmNvbS92MS9ncmFwaHFsJyxcbiAgICBtZXRob2Q6ICdwb3N0JyxcbiAgICBoZWFkZXJzOiB7XG4gICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7aW52YWxpZFRva2VufWAsXG4gICAgfSxcbiAgICBkYXRhOiB7XG4gICAgICBxdWVyeTogJ2RhYicsXG4gICAgfSxcbiAgfTtcbiAgbGV0IHJlc3VsdDtcbiAgdHJ5IHtcbiAgICByZXN1bHQgPSBhd2FpdCBheGlvcyhheGlvc1BhcmFtKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmRlYnVnKGVycm9yKTtcbiAgICBmYWlsKCk7XG4gIH1cbiAgY29uc29sZS5kZWJ1ZyhyZXN1bHQpO1xuICBleHBlY3QocmVzdWx0LmRhdGEuZXJyb3JzWzBdLmV4dGVuc2lvbnMuY29kZSkudG9CZSgnaW52YWxpZC1qd3QnKTtcbn0pOyJdfQ==